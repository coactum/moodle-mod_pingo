{"version":3,"file":"view.min.js","sources":["../src/view.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * JavaScript for the main page of the plugin.\n *\n * @module   mod_pingo/view\n * @copyright  2023 coactum GmbH\n * @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\nimport $ from 'jquery';\n\nexport const init = () => {\n    $(\"#id_tag\").on('change', function() {\n        $('input[name=reload]').val(1);\n        this.form.submit();\n    });\n\n    // Set the date we're counting down to\n    var countDownDate = new Date($(\"#endtime\").text()).getTime();\n\n    // Update the count down every 1 second\n    var x = setInterval(function() {\n\n    // Get today's date and time\n    var now = new Date().getTime();\n\n    // Find the distance between now and the count down date\n    var distance = countDownDate - now;\n\n    // Time calculations for days, hours, minutes and seconds\n    var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));\n    var seconds = Math.floor((distance % (1000 * 60)) / 1000);\n\n    // Display the result in the element with id=\"demo\"\n    $(\"#endtime\").html(minutes + \":\" + seconds);\n\n    // If the count down is finished, write some text\n    if (distance < 0) {\n        clearInterval(x);\n        $(\"#endtime\").html('-');\n    }\n    }, 1000);\n};"],"names":["obj","_jquery","__esModule","default","_exports","init","$","on","val","this","form","submit","countDownDate","Date","text","getTime","x","setInterval","now","distance","minutes","Math","floor","seconds","html","clearInterval"],"mappings":"yEAuBuB,IAAAA;;;;;;;kFAAvBC,SAAuBD,IAAvBC,UAAuBD,IAAAE,WAAAF,IAAAG,CAAAA,QAAAH,KAiCrBI,SAAAC,KA/BkBA,MAChB,EAAAC,QAAAA,SAAE,WAAWC,GAAG,UAAU,YACtB,EAAAD,QAAAA,SAAE,sBAAsBE,IAAI,GAC5BC,KAAKC,KAAKC,QACd,IAGA,IAAIC,cAAgB,IAAIC,MAAK,EAAAP,QAACH,SAAC,YAAYW,QAAQC,UAG/CC,EAAIC,aAAY,WAGpB,IAAIC,KAAM,IAAIL,MAAOE,UAGjBI,SAAWP,cAAgBM,IAG3BE,QAAUC,KAAKC,MAAOH,SAAY,KAAe,KACjDI,QAAUF,KAAKC,MAAOH,SAAY,IAAc,MAGpD,EAAAb,QAACH,SAAC,YAAYqB,KAAKJ,QAAU,IAAMG,SAG/BJ,SAAW,IACXM,cAAcT,IACd,EAAAV,QAAAA,SAAE,YAAYkB,KAAK,KAEtB,GAAE,IAAK,CACV"}